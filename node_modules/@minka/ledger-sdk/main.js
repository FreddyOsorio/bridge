(()=>{"use strict";var __webpack_modules__={8286:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(7636),exports),__exportStar(__webpack_require__(6090),exports),__exportStar(__webpack_require__(9517),exports),__exportStar(__webpack_require__(6503),exports),__exportStar(__webpack_require__(4024),exports)},4024:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.assertKeyFormat=exports.assertSignatureMethod=void 0,exports.assertSignatureMethod=function(method){if("ed25519-v2"!==method)throw new Error(`Unsupported signature method, expected 'ed25519-v2', but got: '${method}'`)},exports.assertKeyFormat=function(format){if("ed25519-raw"!==format)throw new Error(`Unsupported key format, expected 'ed25519-raw', but got: '${format}'`)}},6819:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.importEncryptedPrivateKey=exports.exportEncryptedPrivateKey=void 0;const asn1_1=__webpack_require__(8596);exports.exportEncryptedPrivateKey=function(key){const iterationsBuffer=Buffer.alloc(2);return iterationsBuffer.writeUInt16BE(key.iterations),Buffer.concat([Buffer.from(asn1_1.ASN1_PKCS5_SALT_PREFIX,"hex"),key.salt,Buffer.from(asn1_1.ASN1_PKCS5_ITERATIONS_PREFIX,"hex"),iterationsBuffer,Buffer.from(asn1_1.ASN1_PKCS5_IV_PREFIX,"hex"),key.iv,Buffer.from(asn1_1.ASN1_PKCS5_VALUE_PREFIX,"hex"),key.value]).toString("base64")},exports.importEncryptedPrivateKey=function(key){const payloadAsn1Hex=Buffer.from(key,"base64").toString("hex"),{salt,iterations,iv,value}=(0,asn1_1.parsePkcs5EncryptedKey)(payloadAsn1Hex);return{salt:Buffer.from(salt,"hex"),iterations:Buffer.from(iterations,"hex").readUInt16BE(),iv:Buffer.from(iv,"hex"),value:Buffer.from(value,"hex")}}},7443:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.verifyJWT=exports.signJWT=exports.parseB64Object=exports.bufferConcat=void 0;const jose_1=__webpack_require__(1567),ed25519=__importStar(__webpack_require__(599)),util_1=__webpack_require__(3837);function bufferConcat(...buffers){const size=buffers.reduce(((acc,{length})=>acc+length),0),buf=new Uint8Array(size);let i=0;return buffers.forEach((buffer=>{buf.set(buffer,i),i+=buffer.length})),buf}function parseB64Object(b64){const decoder=new util_1.TextDecoder,decoded=jose_1.base64url.decode(b64);return JSON.parse(decoder.decode(decoded))}exports.bufferConcat=bufferConcat,exports.parseB64Object=parseB64Object,exports.signJWT=async function(payload,secret){const encoder=new util_1.TextEncoder;let payloadBuffer=encoder.encode(JSON.stringify(payload));payloadBuffer=encoder.encode(jose_1.base64url.encode(payloadBuffer));const header={alg:"EdDSA"},data=bufferConcat(encoder.encode(jose_1.base64url.encode(JSON.stringify(header))),encoder.encode("."),payloadBuffer),dataHash=Buffer.from(data).toString("hex"),privateKey=Buffer.from(secret,"base64");try{const signature=await ed25519.sign(dataHash,privateKey),encodedSignature=jose_1.base64url.encode(signature);return`${jose_1.base64url.encode(JSON.stringify(header))}.${jose_1.base64url.encode(JSON.stringify(payload))}.${encodedSignature}`}catch(error){if("Expected 32 bytes"===error.message){const publicLength=Buffer.from(secret,"base64").toString("hex").length;throw new Error(`Unexpected raw private key length in hex ${publicLength}, expected 64`)}throw new Error("jwt signing failed")}},exports.verifyJWT=async function(jws,publicKey){const encoder=new util_1.TextEncoder,{0:protectedHeader,1:payload,2:signature}=jws.split(".");if(!protectedHeader||!payload||!signature)throw new Error("Invalid Compact JWS");const data=bufferConcat(encoder.encode(protectedHeader),encoder.encode("."),encoder.encode(payload)),dataHash=Buffer.from(data).toString("hex");let verified=!1;try{verified=await ed25519.verify(Buffer.from(signature,"base64"),dataHash,Buffer.from(publicKey,"base64"))}catch(error){if("Expected 32 bytes"===error.message){const publicLength=Buffer.from(publicKey,"base64").toString("hex").length;throw new Error(`Unexpected raw public key length in hex ${publicLength}, expected 64`)}verified=!1}if(!verified)throw new Error("signature verification failed");const decodedPayload=parseB64Object(payload);if(decodedPayload.iat>=decodedPayload.exp||decodedPayload.exp<Date.now()/1e3)throw new Error('"exp" claim timestamp check failed');return{payload:parseB64Object(payload),protectedHeader:parseB64Object(protectedHeader)}}},3144:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.decryptSecretKey=exports.encryptSecretKey=exports.createKeyPair=void 0;const ed25519=__importStar(__webpack_require__(599)),crypto_1=__importDefault(__webpack_require__(6113)),asn1_1=__webpack_require__(8596),format_1=__webpack_require__(6819),webcrypto=global?.crypto??crypto_1.default?.webcrypto;function assertWebcryptoSupport(){if(!webcrypto)throw new Error("Unable to perform operation, `webcrypto` is not defined");if(!webcrypto.subtle)throw new Error("Unable to perform operation, `webcrypto.subtle` is not defined")}exports.createKeyPair=async function(){const privateKey=ed25519.utils.randomPrivateKey(),publicKey=await ed25519.getPublicKey(privateKey);return{format:"ed25519-raw",public:Buffer.from(publicKey).toString("base64"),secret:Buffer.from(privateKey).toString("base64")}},exports.encryptSecretKey=async function(secret,password){assertWebcryptoSupport();const salt=webcrypto.getRandomValues(new Uint8Array(8)),iv=webcrypto.getRandomValues(new Uint8Array(16)),keyMaterial=await webcrypto.subtle.importKey("raw",Buffer.from(password,"utf-8"),"PBKDF2",!1,["deriveKey"]),key=await webcrypto.subtle.deriveKey({name:"PBKDF2",salt,iterations:2048,hash:"SHA-256"},keyMaterial,{name:"AES-CBC",length:256},!1,["encrypt"]),secretHex=Buffer.from(secret,"base64").toString("hex"),encrypted=await webcrypto.subtle.encrypt({name:"AES-CBC",iv},key,Buffer.from((0,asn1_1.privateKeyRawToDer)(secretHex),"hex")),encryptedKey={salt,iterations:2048,iv,value:Buffer.from(encrypted)};return(0,format_1.exportEncryptedPrivateKey)(encryptedKey)},exports.decryptSecretKey=async function(secret,password){assertWebcryptoSupport();const{salt,iterations,iv,value}=(0,format_1.importEncryptedPrivateKey)(secret),keyMaterial=await webcrypto.subtle.importKey("raw",Buffer.from(password,"utf-8"),"PBKDF2",!1,["deriveKey"]),key=await webcrypto.subtle.deriveKey({name:"PBKDF2",salt,iterations,hash:"SHA-256"},keyMaterial,{name:"AES-CBC",length:256},!1,["decrypt"]);let decrypted;try{decrypted=await webcrypto.subtle.decrypt({name:"AES-CBC",iv},key,value)}catch(error){throw new Error("Unable to decrypt secret key")}const rawKeyHex=(0,asn1_1.privateKeyDerToRaw)(Buffer.from(decrypted).toString("hex"));return Buffer.from(rawKeyHex,"hex").toString("base64")}},1477:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.verifySignature=exports.signHash=void 0;const ed25519=__importStar(__webpack_require__(599)),asserts_1=__webpack_require__(4024);exports.signHash=async function(hash,keyPair){(0,asserts_1.assertKeyFormat)(keyPair.format);const privateKey=Buffer.from(keyPair.secret,"base64"),signature=await ed25519.sign(hash,privateKey);return{method:"ed25519-v2",public:keyPair.public,digest:hash,result:Buffer.from(signature).toString("base64")}},exports.verifySignature=async function(hash,signature){return(0,asserts_1.assertSignatureMethod)(signature.method),ed25519.verify(Buffer.from(signature.result,"base64"),hash,Buffer.from(signature.public,"base64"))}},8596:(__unused_webpack_module,exports)=>{function isValidPkcs5EncryptedKey(pkcs5PayloadHex){return exports.ASN1_PKCS5_REGEX.test(pkcs5PayloadHex)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.publicKeyRawToDer=exports.publicKeyDerToRaw=exports.privateKeyRawToDer=exports.privateKeyDerToRaw=exports.isValidPkcs5EncryptedKey=exports.assertPkcs5EncryptedKey=exports.parsePkcs5EncryptedKey=exports.ASN1_PKCS5_REGEX=exports.ASN1_PKCS5_VALUE_PREFIX=exports.ASN1_PKCS5_IV_PREFIX=exports.ASN1_PKCS5_ITERATIONS_PREFIX=exports.ASN1_PKCS5_SALT_PREFIX=exports.ASN1_PUBLIC_PREFIX=exports.ASN1_PRIVATE_PREFIX=void 0,exports.ASN1_PRIVATE_PREFIX="302e020100300506032b657004220420",exports.ASN1_PUBLIC_PREFIX="302a300506032b6570032100",exports.ASN1_PKCS5_SALT_PREFIX="30819b305706092a864886f70d01050d304a302906092a864886f70d01050c301c0408",exports.ASN1_PKCS5_ITERATIONS_PREFIX="0202",exports.ASN1_PKCS5_IV_PREFIX="300c06082a864886f70d02090500301d060960864801650304012a0410",exports.ASN1_PKCS5_VALUE_PREFIX="0440",exports.ASN1_PKCS5_REGEX=new RegExp(`^${exports.ASN1_PKCS5_SALT_PREFIX}(?<salt>[0-9a-f]{16})${exports.ASN1_PKCS5_ITERATIONS_PREFIX}((?<iterations>[0-9a-f]{4}))${exports.ASN1_PKCS5_IV_PREFIX}(?<iv>[0-9a-f]{32})${exports.ASN1_PKCS5_VALUE_PREFIX}(?<value>[0-9a-f]{128})$`),exports.parsePkcs5EncryptedKey=function(pkcs5PayloadHex){const match=exports.ASN1_PKCS5_REGEX.exec(pkcs5PayloadHex);if(!match)throw new Error("Invalid pkcs5 encrypted key format");return match.groups},exports.assertPkcs5EncryptedKey=function(pkcs5PayloadHex){if(!isValidPkcs5EncryptedKey(pkcs5PayloadHex))throw new Error("Invalid pkcs5 encrypted key format")},exports.isValidPkcs5EncryptedKey=isValidPkcs5EncryptedKey,exports.privateKeyDerToRaw=function(keyHex){if(96!=keyHex.length)throw new Error(`Unexpected der private key length in hex ${keyHex.length}, expected 96`);if(!keyHex.startsWith(exports.ASN1_PRIVATE_PREFIX))throw new Error("Unexpected private key prefix");return keyHex.slice(exports.ASN1_PRIVATE_PREFIX.length)},exports.privateKeyRawToDer=function(keyHex){if(64!=keyHex.length)throw new Error(`Unexpected raw private key length in hex ${keyHex.length}, expected 64`);return`${exports.ASN1_PRIVATE_PREFIX}${keyHex}`},exports.publicKeyDerToRaw=function(keyHex){if(88!=keyHex.length)throw new Error(`Unexpected der public key length in hex ${keyHex.length}, expected 88`);if(!keyHex.startsWith(exports.ASN1_PUBLIC_PREFIX))throw new Error("Unexpected public key prefix");return keyHex.slice(exports.ASN1_PUBLIC_PREFIX.length)},exports.publicKeyRawToDer=function(keyHex){if(64!=keyHex.length)throw new Error(`Unexpected raw public key length in hex ${keyHex.length}, expected 64`);return`${exports.ASN1_PUBLIC_PREFIX}${keyHex}`}},7636:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSignatureDigest=exports.createHash=void 0;const crypto_1=__importDefault(__webpack_require__(6113)),serialization_1=__webpack_require__(881);exports.createHash=function(data){const serializedData=(0,serialization_1.serializeData)(data);return crypto_1.default.createHash("sha256").update(serializedData).digest("hex")},exports.createSignatureDigest=function(dataHash,signatureCustom){const serializedCustomData=signatureCustom?(0,serialization_1.serializeData)(signatureCustom):"";return crypto_1.default.createHash("sha256").update(dataHash+serializedCustomData).digest("hex")}},6503:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.verifyJWT=exports.signJWT=exports.decodeJWT=void 0;const detect_node_1=__importDefault(__webpack_require__(7805)),lodash_1=__importDefault(__webpack_require__(6517)),jose_1=__webpack_require__(1567),jwt_1=__webpack_require__(6096),jwt_2=__webpack_require__(7443),format_1=__webpack_require__(8861);exports.decodeJWT=function(jwt){return function(payload){const{iss,sub,aud,jti,exp,iat,hsh}=payload,errors=[];if(iss&&lodash_1.default.isString(iss)||errors.push('"iss" must be a string'),aud&&lodash_1.default.isString(aud)||errors.push('"aud" must be a string'),jti&&!lodash_1.default.isString(jti)&&errors.push('"jti" must be a string'),hsh&&!lodash_1.default.isString(hsh)&&errors.push('"hsh" must be a string'),(!lodash_1.default.isNumber(iat)||iat<=0)&&errors.push('"iat" must be a positive number'),(!lodash_1.default.isNumber(exp)||exp<=0)&&errors.push('"exp" must be a positive number'),exp<iat&&errors.push('"exp" must be greater than "iat"'),errors.length)throw Error(`JWT Payload validation ${(0,format_1.pluralize)(errors.length,"error")}: ${errors.join(",")}.`);return{iss,sub,aud,jti,exp,iat,hsh}}((0,jose_1.decodeJwt)(jwt))},exports.signJWT=async function(payload,secret){return detect_node_1.default?(0,jwt_1.signJWT)(payload,secret):(0,jwt_2.signJWT)(payload,secret)},exports.verifyJWT=function(jwt,publicKey){return detect_node_1.default?(0,jwt_1.verifyJWT)(jwt,publicKey):(0,jwt_2.verifyJWT)(jwt,publicKey)}},6090:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSecretKeyEncrypted=exports.decryptSecretKey=exports.encryptSecretKey=exports.createKeyPair=void 0;const detect_node_1=__importDefault(__webpack_require__(7805)),keys_1=__webpack_require__(3144),asn1_1=__webpack_require__(8596),keys_2=__webpack_require__(4419);exports.createKeyPair=async function(){return detect_node_1.default?(0,keys_2.createKeyPair)():(0,keys_1.createKeyPair)()},exports.encryptSecretKey=async function(secret,password){return detect_node_1.default?(0,keys_2.encryptSecretKey)(secret,password):(0,keys_1.encryptSecretKey)(secret,password)},exports.decryptSecretKey=async function(secret,password){return detect_node_1.default?(0,keys_2.decryptSecretKey)(secret,password):(0,keys_1.decryptSecretKey)(secret,password)},exports.isSecretKeyEncrypted=function(secret){return(0,asn1_1.isValidPkcs5EncryptedKey)(Buffer.from(secret,"base64").toString("hex"))}},3099:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.importPrivateKey=exports.importPublicKey=exports.exportPrivateKey=exports.exportPublicKey=void 0;const crypto_1=__webpack_require__(6113),asn1_1=__webpack_require__(8596);exports.exportPublicKey=function(key){if("public"!==key.type)throw new Error(`Unexpected key type '${key.type}', expected 'public'`);const keyAsn1Hex=key.export({format:"der",type:"spki"}).toString("hex");return Buffer.from((0,asn1_1.publicKeyDerToRaw)(keyAsn1Hex),"hex").toString("base64")},exports.exportPrivateKey=function(key){if("private"!==key.type)throw new Error(`Unexpected key type '${key.type}', expected 'private'`);const keyAsn1Hex=key.export({format:"der",type:"pkcs8"}).toString("hex");return Buffer.from((0,asn1_1.privateKeyDerToRaw)(keyAsn1Hex),"hex").toString("base64")},exports.importPublicKey=function(key){const keyHex=Buffer.from(key,"base64").toString("hex");return(0,crypto_1.createPublicKey)({format:"der",type:"spki",key:Buffer.from((0,asn1_1.publicKeyRawToDer)(keyHex),"hex")})},exports.importPrivateKey=function(key){const keyHex=Buffer.from(key,"base64").toString("hex");return(0,crypto_1.createPrivateKey)({format:"der",type:"pkcs8",key:Buffer.from((0,asn1_1.privateKeyRawToDer)(keyHex),"hex")})}},6096:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.verifyJWT=exports.signJWT=void 0;const jose_1=__webpack_require__(1567),format_1=__webpack_require__(3099);exports.signJWT=async function(payload,secret){return await new jose_1.SignJWT(payload).setProtectedHeader({alg:"EdDSA"}).sign((0,format_1.importPrivateKey)(secret))},exports.verifyJWT=async function(jwt,publicKey){return(0,jose_1.jwtVerify)(jwt,(0,format_1.importPublicKey)(publicKey),{algorithms:["EdDSA"]})}},4419:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.decryptSecretKey=exports.encryptSecretKey=exports.createKeyPair=void 0;const crypto_1=__webpack_require__(6113),util_1=__webpack_require__(3837),asn1_1=__webpack_require__(8596),format_1=__webpack_require__(3099),generateKeyPairAsync=crypto_1.generateKeyPair&&(0,util_1.promisify)(crypto_1.generateKeyPair);function assertCryptoSupport(){if(!generateKeyPairAsync)throw new Error("Unable to perform operation, `crypto.generateKeyPair` is not defined");if(!crypto_1.createPrivateKey)throw new Error("Unable to perform operation, `crypto.createPrivateKey` is not defined")}exports.createKeyPair=async function(){assertCryptoSupport();const keyPair=await generateKeyPairAsync("ed25519");return{format:"ed25519-raw",public:(0,format_1.exportPublicKey)(keyPair.publicKey),secret:(0,format_1.exportPrivateKey)(keyPair.privateKey)}},exports.encryptSecretKey=async function(secret,password){return assertCryptoSupport(),(0,format_1.importPrivateKey)(secret).export({format:"der",type:"pkcs8",passphrase:password,cipher:"aes-256-cbc"}).toString("base64")},exports.decryptSecretKey=async function(secret,password){assertCryptoSupport(),(0,asn1_1.assertPkcs5EncryptedKey)(Buffer.from(secret,"base64").toString("hex"));try{const key=(0,crypto_1.createPrivateKey)({key:Buffer.from(secret,"base64"),format:"der",type:"pkcs8",passphrase:password});return(0,format_1.exportPrivateKey)(key)}catch(error){if("ERR_OSSL_EVP_BAD_DECRYPT"===error?.code)throw new Error("Unable to decrypt secret key");throw error}}},2092:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.verifySignature=exports.signHash=void 0;const crypto_1=__importDefault(__webpack_require__(6113)),asserts_1=__webpack_require__(4024),format_1=__webpack_require__(3099);exports.signHash=async function(hash,keyPair){if((0,asserts_1.assertKeyFormat)(keyPair.format),!crypto_1.default.sign)throw new Error("Unable to sign hash, `crypto.sign` is not defined");const hashBuffer=Buffer.from(hash,"hex"),key=(0,format_1.importPrivateKey)(keyPair.secret),result=crypto_1.default.sign(void 0,hashBuffer,key).toString("base64");return{method:"ed25519-v2",public:keyPair.public,digest:hash,result}},exports.verifySignature=async function(hash,signature){if((0,asserts_1.assertSignatureMethod)(signature.method),!crypto_1.default.verify)throw new Error("Unable to verify signature, `crypto.verify` is not defined");const hashBuffer=Buffer.from(hash,"hex"),signatureBuffer=Buffer.from(signature.result,"base64"),key=(0,format_1.importPublicKey)(signature.public);return crypto_1.default.verify(void 0,hashBuffer,key,signatureBuffer)}},881:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.serializeData=void 0;const safe_stable_stringify_1=__importDefault(__webpack_require__(8730));exports.serializeData=function(data){return(0,safe_stable_stringify_1.default)(data)}},9517:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSignatureKeyFormat=exports.verifySignature=exports.signHash=void 0;const detect_node_1=__importDefault(__webpack_require__(7805)),asserts_1=__webpack_require__(4024),signing_1=__webpack_require__(1477),hashing_1=__webpack_require__(7636),signing_2=__webpack_require__(2092);exports.signHash=async function(dataHash,keyPair,customData){const digest=(0,hashing_1.createSignatureDigest)(dataHash,customData),signature=detect_node_1.default?await(0,signing_2.signHash)(digest,keyPair):await(0,signing_1.signHash)(digest,keyPair);return customData&&(signature.custom=customData),signature},exports.verifySignature=async function(dataHash,signature){const digest=(0,hashing_1.createSignatureDigest)(dataHash,signature.custom);return signature.digest===digest&&(detect_node_1.default?(0,signing_2.verifySignature)(digest,signature):(0,signing_1.verifySignature)(digest,signature))},exports.getSignatureKeyFormat=function(method){return(0,asserts_1.assertSignatureMethod)(method),"ed25519-raw"}},2901:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(2662),exports),__exportStar(__webpack_require__(4355),exports),__exportStar(__webpack_require__(7959),exports),__exportStar(__webpack_require__(3930),exports),__exportStar(__webpack_require__(1987),exports),__exportStar(__webpack_require__(6226),exports),__exportStar(__webpack_require__(445),exports)},7497:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.ApiBodyMalformed=void 0;const common_1=__webpack_require__(3930);class ApiBodyMalformed extends common_1.LedgerError{constructor(reason,detail){super(ApiBodyMalformed.REASON,reason,detail)}}exports.ApiBodyMalformed=ApiBodyMalformed,ApiBodyMalformed.REASON=common_1.LedgerErrorReason.ApiBodyMalformed},724:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.ApiQueryMalformed=void 0;const common_1=__webpack_require__(3930);class ApiQueryMalformed extends common_1.LedgerError{constructor(reason,detail){super(ApiQueryMalformed.REASON,reason,detail)}}exports.ApiQueryMalformed=ApiQueryMalformed,ApiQueryMalformed.REASON=common_1.LedgerErrorReason.ApiQueryMalformed},8804:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.ApiRateLimitExceeded=void 0;const common_1=__webpack_require__(3930);class ApiRateLimitExceeded extends common_1.LedgerError{constructor(reason,detail){super(ApiRateLimitExceeded.REASON,reason,detail)}}exports.ApiRateLimitExceeded=ApiRateLimitExceeded,ApiRateLimitExceeded.REASON=common_1.LedgerErrorReason.ApiRateLimitExceeded},5532:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.ApiRequestTimeout=void 0;const common_1=__webpack_require__(3930);class ApiRequestTimeout extends common_1.LedgerError{constructor(reason,detail){super(ApiRequestTimeout.REASON,reason,detail)}}exports.ApiRequestTimeout=ApiRequestTimeout,ApiRequestTimeout.REASON=common_1.LedgerErrorReason.ApiRequestTimeout},7475:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.ApiRouteNotFound=void 0;const common_1=__webpack_require__(3930);class ApiRouteNotFound extends common_1.LedgerError{constructor(reason,detail){super(ApiRouteNotFound.REASON,reason,detail)}}exports.ApiRouteNotFound=ApiRouteNotFound,ApiRouteNotFound.REASON=common_1.LedgerErrorReason.ApiRouteNotFound},7130:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.ApiUnexpectedError=void 0;const common_1=__webpack_require__(3930);class ApiUnexpectedError extends common_1.LedgerError{constructor(reason,detail){super(ApiUnexpectedError.REASON,reason,detail)}}exports.ApiUnexpectedError=ApiUnexpectedError,ApiUnexpectedError.REASON=common_1.LedgerErrorReason.ApiUnexpectedError},2662:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(7497),exports),__exportStar(__webpack_require__(724),exports),__exportStar(__webpack_require__(7475),exports),__exportStar(__webpack_require__(5532),exports),__exportStar(__webpack_require__(8804),exports),__exportStar(__webpack_require__(7130),exports)},7587:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuthForbidden=void 0;const common_1=__webpack_require__(3930);class AuthForbidden extends common_1.LedgerError{constructor(reason,detail){super(AuthForbidden.REASON,reason,detail)}}exports.AuthForbidden=AuthForbidden,AuthForbidden.REASON=common_1.LedgerErrorReason.AuthForbidden},8830:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuthUnauthorized=void 0;const common_1=__webpack_require__(3930);class AuthUnauthorized extends common_1.LedgerError{constructor(reason,detail){super(AuthUnauthorized.REASON,reason,detail)}}exports.AuthUnauthorized=AuthUnauthorized,AuthUnauthorized.REASON=common_1.LedgerErrorReason.AuthUnauthorized},4355:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(8830),exports),__exportStar(__webpack_require__(7587),exports)},5394:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeAccountInactive=void 0;const common_1=__webpack_require__(3930);class BridgeAccountInactive extends common_1.LedgerError{constructor(reason,detail){super(BridgeAccountInactive.REASON,reason,detail)}}exports.BridgeAccountInactive=BridgeAccountInactive,BridgeAccountInactive.REASON=common_1.LedgerErrorReason.BridgeAccountInactive},9123:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeAccountInsufficientBalance=void 0;const common_1=__webpack_require__(3930);class BridgeAccountInsufficientBalance extends common_1.LedgerError{constructor(reason,detail){super(BridgeAccountInsufficientBalance.REASON,reason,detail)}}exports.BridgeAccountInsufficientBalance=BridgeAccountInsufficientBalance,BridgeAccountInsufficientBalance.REASON=common_1.LedgerErrorReason.BridgeAccountInsufficientBalance},4027:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeAccountLimitExceeded=void 0;const common_1=__webpack_require__(3930);class BridgeAccountLimitExceeded extends common_1.LedgerError{constructor(reason,detail){super(BridgeAccountLimitExceeded.REASON,reason,detail)}}exports.BridgeAccountLimitExceeded=BridgeAccountLimitExceeded,BridgeAccountLimitExceeded.REASON=common_1.LedgerErrorReason.BridgeAccountLimitExceeded},3848:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeAccountNotFound=void 0;const common_1=__webpack_require__(3930);class BridgeAccountNotFound extends common_1.LedgerError{constructor(reason,detail){super(BridgeAccountNotFound.REASON,reason,detail)}}exports.BridgeAccountNotFound=BridgeAccountNotFound,BridgeAccountNotFound.REASON=common_1.LedgerErrorReason.BridgeAccountNotFound},8795:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeCoreUnreachable=void 0;const common_1=__webpack_require__(3930);class BridgeCoreUnreachable extends common_1.LedgerError{constructor(reason,detail){super(BridgeCoreUnreachable.REASON,reason,detail)}}exports.BridgeCoreUnreachable=BridgeCoreUnreachable,BridgeCoreUnreachable.REASON=common_1.LedgerErrorReason.BridgeCoreUnreachable},9596:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeEntryDuplicated=void 0;const common_1=__webpack_require__(3930);class BridgeEntryDuplicated extends common_1.LedgerError{constructor(reason,detail){super(BridgeEntryDuplicated.REASON,reason,detail)}}exports.BridgeEntryDuplicated=BridgeEntryDuplicated,BridgeEntryDuplicated.REASON=common_1.LedgerErrorReason.BridgeEntryDuplicated},8181:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeEntryHashInvalid=void 0;const common_1=__webpack_require__(3930);class BridgeEntryHashInvalid extends common_1.LedgerError{constructor(reason,detail){super(BridgeEntryHashInvalid.REASON,reason,detail)}}exports.BridgeEntryHashInvalid=BridgeEntryHashInvalid,BridgeEntryHashInvalid.REASON=common_1.LedgerErrorReason.BridgeEntryHashInvalid},6115:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeEntryMismatch=void 0;const common_1=__webpack_require__(3930);class BridgeEntryMismatch extends common_1.LedgerError{constructor(reason,detail){super(BridgeEntryMismatch.REASON,reason,detail)}}exports.BridgeEntryMismatch=BridgeEntryMismatch,BridgeEntryMismatch.REASON=common_1.LedgerErrorReason.BridgeEntryMismatch},5365:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeEntryRejected=void 0;const common_1=__webpack_require__(3930);class BridgeEntryRejected extends common_1.LedgerError{constructor(reason,detail){super(BridgeEntryRejected.REASON,reason,detail)}}exports.BridgeEntryRejected=BridgeEntryRejected,BridgeEntryRejected.REASON=common_1.LedgerErrorReason.BridgeEntryRejected},7397:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeEntrySchemaInvalid=void 0;const common_1=__webpack_require__(3930);class BridgeEntrySchemaInvalid extends common_1.LedgerError{constructor(reason,detail){super(BridgeEntrySchemaInvalid.REASON,reason,detail)}}exports.BridgeEntrySchemaInvalid=BridgeEntrySchemaInvalid,BridgeEntrySchemaInvalid.REASON=common_1.LedgerErrorReason.BridgeEntrySchemaInvalid},9619:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeEntrySignatureInvalid=void 0;const common_1=__webpack_require__(3930);class BridgeEntrySignatureInvalid extends common_1.LedgerError{constructor(reason,detail){super(BridgeEntrySignatureInvalid.REASON,reason,detail)}}exports.BridgeEntrySignatureInvalid=BridgeEntrySignatureInvalid,BridgeEntrySignatureInvalid.REASON=common_1.LedgerErrorReason.BridgeEntrySignatureInvalid},8993:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeEntrySignatureMismatch=void 0;const common_1=__webpack_require__(3930);class BridgeEntrySignatureMismatch extends common_1.LedgerError{constructor(reason,detail){super(BridgeEntrySignatureMismatch.REASON,reason,detail)}}exports.BridgeEntrySignatureMismatch=BridgeEntrySignatureMismatch,BridgeEntrySignatureMismatch.REASON=common_1.LedgerErrorReason.BridgeEntrySignatureMismatch},3996:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeEntrySignatureMissing=void 0;const common_1=__webpack_require__(3930);class BridgeEntrySignatureMissing extends common_1.LedgerError{constructor(reason,detail){super(BridgeEntrySignatureMissing.REASON,reason,detail)}}exports.BridgeEntrySignatureMissing=BridgeEntrySignatureMissing,BridgeEntrySignatureMissing.REASON=common_1.LedgerErrorReason.BridgeEntrySignatureMissing},3987:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeEntryTimeout=void 0;const common_1=__webpack_require__(3930);class BridgeEntryTimeout extends common_1.LedgerError{constructor(reason,detail){super(BridgeEntryTimeout.REASON,reason,detail)}}exports.BridgeEntryTimeout=BridgeEntryTimeout,BridgeEntryTimeout.REASON=common_1.LedgerErrorReason.BridgeEntryTimeout},3771:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeFraudDetected=void 0;const common_1=__webpack_require__(3930);class BridgeFraudDetected extends common_1.LedgerError{constructor(reason,detail){super(BridgeFraudDetected.REASON,reason,detail)}}exports.BridgeFraudDetected=BridgeFraudDetected,BridgeFraudDetected.REASON=common_1.LedgerErrorReason.BridgeFraudDetected},5779:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeIntentHashInvalid=void 0;const common_1=__webpack_require__(3930);class BridgeIntentHashInvalid extends common_1.LedgerError{constructor(reason,detail){super(BridgeIntentHashInvalid.REASON,reason,detail)}}exports.BridgeIntentHashInvalid=BridgeIntentHashInvalid,BridgeIntentHashInvalid.REASON=common_1.LedgerErrorReason.BridgeIntentHashInvalid},46:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeIntentSignatureInvalid=void 0;const common_1=__webpack_require__(3930);class BridgeIntentSignatureInvalid extends common_1.LedgerError{constructor(reason,detail){super(BridgeIntentSignatureInvalid.REASON,reason,detail)}}exports.BridgeIntentSignatureInvalid=BridgeIntentSignatureInvalid,BridgeIntentSignatureInvalid.REASON=common_1.LedgerErrorReason.BridgeIntentSignatureInvalid},3431:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeIntentSignatureMissing=void 0;const common_1=__webpack_require__(3930);class BridgeIntentSignatureMissing extends common_1.LedgerError{constructor(reason,detail){super(BridgeIntentSignatureMissing.REASON,reason,detail)}}exports.BridgeIntentSignatureMissing=BridgeIntentSignatureMissing,BridgeIntentSignatureMissing.REASON=common_1.LedgerErrorReason.BridgeIntentSignatureMissing},9350:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeIntentUnrelated=void 0;const common_1=__webpack_require__(3930);class BridgeIntentUnrelated extends common_1.LedgerError{constructor(reason,detail){super(BridgeIntentUnrelated.REASON,reason,detail)}}exports.BridgeIntentUnrelated=BridgeIntentUnrelated,BridgeIntentUnrelated.REASON=common_1.LedgerErrorReason.BridgeIntentUnrelated},3796:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeLedgerFailed=void 0;const common_1=__webpack_require__(3930);class BridgeLedgerFailed extends common_1.LedgerError{constructor(reason,detail){super(BridgeLedgerFailed.REASON,reason,detail)}}exports.BridgeLedgerFailed=BridgeLedgerFailed,BridgeLedgerFailed.REASON=common_1.LedgerErrorReason.BridgeLedgerFailed},7637:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeUnexpectedCoreError=void 0;const common_1=__webpack_require__(3930);class BridgeUnexpectedCoreError extends common_1.LedgerError{constructor(reason,detail){super(BridgeUnexpectedCoreError.REASON,reason,detail)}}exports.BridgeUnexpectedCoreError=BridgeUnexpectedCoreError,BridgeUnexpectedCoreError.REASON=common_1.LedgerErrorReason.BridgeUnexpectedCoreError},4467:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeUnexpectedError=void 0;const common_1=__webpack_require__(3930);class BridgeUnexpectedError extends common_1.LedgerError{constructor(reason,detail){super(BridgeUnexpectedError.REASON,reason,detail)}}exports.BridgeUnexpectedError=BridgeUnexpectedError,BridgeUnexpectedError.REASON=common_1.LedgerErrorReason.BridgeUnexpectedError},7959:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(3848),exports),__exportStar(__webpack_require__(5394),exports),__exportStar(__webpack_require__(9123),exports),__exportStar(__webpack_require__(4027),exports),__exportStar(__webpack_require__(5365),exports),__exportStar(__webpack_require__(8181),exports),__exportStar(__webpack_require__(9619),exports),__exportStar(__webpack_require__(8993),exports),__exportStar(__webpack_require__(3996),exports),__exportStar(__webpack_require__(7397),exports),__exportStar(__webpack_require__(6115),exports),__exportStar(__webpack_require__(9596),exports),__exportStar(__webpack_require__(3987),exports),__exportStar(__webpack_require__(5779),exports),__exportStar(__webpack_require__(46),exports),__exportStar(__webpack_require__(3431),exports),__exportStar(__webpack_require__(9350),exports),__exportStar(__webpack_require__(3771),exports),__exportStar(__webpack_require__(3796),exports),__exportStar(__webpack_require__(8795),exports),__exportStar(__webpack_require__(7637),exports),__exportStar(__webpack_require__(4467),exports)},3930:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(2872),exports),__exportStar(__webpack_require__(605),exports),__exportStar(__webpack_require__(3734),exports)},2872:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.LedgerError=void 0;class LedgerError extends Error{constructor(reason,detail,custom){super(detail),this.reason=reason,this.detail=detail,custom&&(this.custom=custom)}}exports.LedgerError=LedgerError},3734:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},605:(__unused_webpack_module,exports)=>{var LedgerErrorReason;Object.defineProperty(exports,"__esModule",{value:!0}),exports.LedgerErrorReasons=exports.LedgerErrorReason=void 0,function(LedgerErrorReason){LedgerErrorReason.UnexpectedClientError="unexpected-client-error",LedgerErrorReason.BridgeAccountNotFound="bridge.account-not-found",LedgerErrorReason.BridgeAccountInactive="bridge.account-inactive",LedgerErrorReason.BridgeAccountInsufficientBalance="bridge.account-insufficient-balance",LedgerErrorReason.BridgeAccountLimitExceeded="bridge.account-limit-exceeded",LedgerErrorReason.BridgeEntryRejected="bridge.entry-rejected",LedgerErrorReason.BridgeEntryHashInvalid="bridge.entry-hash-invalid",LedgerErrorReason.BridgeEntrySignatureInvalid="bridge.entry-signature-invalid",LedgerErrorReason.BridgeEntrySignatureMismatch="bridge.entry-signature-mismatch",LedgerErrorReason.BridgeEntrySignatureMissing="bridge.entry-signature-missing",LedgerErrorReason.BridgeEntrySchemaInvalid="bridge.entry-schema-invalid",LedgerErrorReason.BridgeEntryMismatch="bridge.entry-mismatch",LedgerErrorReason.BridgeEntryDuplicated="bridge.entry-duplicated",LedgerErrorReason.BridgeEntryTimeout="bridge.entry-timeout",LedgerErrorReason.BridgeIntentHashInvalid="bridge.intent-hash-invalid",LedgerErrorReason.BridgeIntentSignatureInvalid="bridge.intent-signature-invalid",LedgerErrorReason.BridgeIntentSignatureMissing="bridge.intent-signature-missing",LedgerErrorReason.BridgeIntentUnrelated="bridge.intent-unrelated",LedgerErrorReason.BridgeFraudDetected="bridge.fraud-detected",LedgerErrorReason.BridgeLedgerFailed="bridge.ledger-failed",LedgerErrorReason.BridgeCoreUnreachable="bridge.core-unreachable",LedgerErrorReason.BridgeUnexpectedCoreError="bridge.unexpected-core-error",LedgerErrorReason.BridgeUnexpectedError="bridge.unexpected-error",LedgerErrorReason.AuthUnauthorized="auth.unauthorized",LedgerErrorReason.AuthForbidden="auth.forbidden",LedgerErrorReason.CryptoHashInvalid="crypto.hash-invalid",LedgerErrorReason.CryptoParentHashInvalid="crypto.parent-hash-invalid",LedgerErrorReason.CryptoSignatureInvalid="crypto.signature-invalid",LedgerErrorReason.CryptoSignatureMissing="crypto.signature-missing",LedgerErrorReason.ApiBodyMalformed="api.body-malformed",LedgerErrorReason.ApiQueryMalformed="api.query-malformed",LedgerErrorReason.ApiRouteNotFound="api.route-not-found",LedgerErrorReason.ApiRequestTimeout="api.request-timeout",LedgerErrorReason.ApiRateLimitExceeded="api.rate-limit-exceeded",LedgerErrorReason.ApiUnexpectedError="api.unexpected-error",LedgerErrorReason.RecordNotFound="record.not-found",LedgerErrorReason.RecordRelationNotFound="record.relation-not-found",LedgerErrorReason.RecordDuplicated="record.duplicated",LedgerErrorReason.RecordSchemaInvalid="record.schema-invalid",LedgerErrorReason.RecordInvalid="record.invalid",LedgerErrorReason.CoreSourceInvalid="core.source-invalid",LedgerErrorReason.CoreTargetInvalid="core.target-invalid",LedgerErrorReason.CoreSymbolInvalid="core.symbol-invalid",LedgerErrorReason.CoreInsufficientBalance="core.insufficient-balance",LedgerErrorReason.CoreIntentExpired="core.intent-expired",LedgerErrorReason.CoreBridgePrepareFailed="core.bridge-prepare-failed",LedgerErrorReason.CoreBridgeUnreachable="core.bridge-unreachable",LedgerErrorReason.CoreUnexpectedError="core.unexpected-error"}(LedgerErrorReason=exports.LedgerErrorReason||(exports.LedgerErrorReason={})),exports.LedgerErrorReasons=Object.values(LedgerErrorReason)},8768:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CoreBridgePrepareFailed=void 0;const common_1=__webpack_require__(3930);class CoreBridgePrepareFailed extends common_1.LedgerError{constructor(reason,detail){super(CoreBridgePrepareFailed.REASON,reason,detail)}}exports.CoreBridgePrepareFailed=CoreBridgePrepareFailed,CoreBridgePrepareFailed.REASON=common_1.LedgerErrorReason.CoreBridgePrepareFailed},9116:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CoreBridgeUnreachable=void 0;const common_1=__webpack_require__(3930);class CoreBridgeUnreachable extends common_1.LedgerError{constructor(reason,detail){super(CoreBridgeUnreachable.REASON,reason,detail)}}exports.CoreBridgeUnreachable=CoreBridgeUnreachable,CoreBridgeUnreachable.REASON=common_1.LedgerErrorReason.CoreBridgeUnreachable},862:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CoreInsufficientBalance=void 0;const common_1=__webpack_require__(3930);class CoreInsufficientBalance extends common_1.LedgerError{constructor(reason,detail){super(CoreInsufficientBalance.REASON,reason,detail)}}exports.CoreInsufficientBalance=CoreInsufficientBalance,CoreInsufficientBalance.REASON=common_1.LedgerErrorReason.CoreInsufficientBalance},8791:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CoreIntentExpired=void 0;const common_1=__webpack_require__(3930);class CoreIntentExpired extends common_1.LedgerError{constructor(reason,detail){super(CoreIntentExpired.REASON,reason,detail)}}exports.CoreIntentExpired=CoreIntentExpired,CoreIntentExpired.REASON=common_1.LedgerErrorReason.CoreIntentExpired},9321:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CoreSourceInvalid=void 0;const common_1=__webpack_require__(3930);class CoreSourceInvalid extends common_1.LedgerError{constructor(reason,detail){super(CoreSourceInvalid.REASON,reason,detail)}}exports.CoreSourceInvalid=CoreSourceInvalid,CoreSourceInvalid.REASON=common_1.LedgerErrorReason.CoreSourceInvalid},5061:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CoreSymbolInvalid=void 0;const common_1=__webpack_require__(3930);class CoreSymbolInvalid extends common_1.LedgerError{constructor(reason,detail){super(CoreSymbolInvalid.REASON,reason,detail)}}exports.CoreSymbolInvalid=CoreSymbolInvalid,CoreSymbolInvalid.REASON=common_1.LedgerErrorReason.CoreSymbolInvalid},8511:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CoreTargetInvalid=void 0;const common_1=__webpack_require__(3930);class CoreTargetInvalid extends common_1.LedgerError{constructor(reason,detail){super(CoreTargetInvalid.REASON,reason,detail)}}exports.CoreTargetInvalid=CoreTargetInvalid,CoreTargetInvalid.REASON=common_1.LedgerErrorReason.CoreTargetInvalid},4297:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CoreUnexpectedError=void 0;const common_1=__webpack_require__(3930);class CoreUnexpectedError extends common_1.LedgerError{constructor(reason,detail){super(CoreUnexpectedError.REASON,reason,detail)}}exports.CoreUnexpectedError=CoreUnexpectedError,CoreUnexpectedError.REASON=common_1.LedgerErrorReason.CoreUnexpectedError},1987:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(9321),exports),__exportStar(__webpack_require__(8511),exports),__exportStar(__webpack_require__(5061),exports),__exportStar(__webpack_require__(862),exports),__exportStar(__webpack_require__(8791),exports),__exportStar(__webpack_require__(8768),exports),__exportStar(__webpack_require__(9116),exports),__exportStar(__webpack_require__(4297),exports)},8578:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CryptoHashInvalid=void 0;const common_1=__webpack_require__(3930);class CryptoHashInvalid extends common_1.LedgerError{constructor(reason,detail){super(CryptoHashInvalid.REASON,reason,detail)}}exports.CryptoHashInvalid=CryptoHashInvalid,CryptoHashInvalid.REASON=common_1.LedgerErrorReason.CryptoHashInvalid},2966:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CryptoParentHashInvalid=void 0;const common_1=__webpack_require__(3930);class CryptoParentHashInvalid extends common_1.LedgerError{constructor(reason,detail){super(CryptoParentHashInvalid.REASON,reason,detail)}}exports.CryptoParentHashInvalid=CryptoParentHashInvalid,CryptoParentHashInvalid.REASON=common_1.LedgerErrorReason.CryptoParentHashInvalid},3043:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CryptoSignatureInvalid=void 0;const common_1=__webpack_require__(3930);class CryptoSignatureInvalid extends common_1.LedgerError{constructor(reason,detail){super(CryptoSignatureInvalid.REASON,reason,detail)}}exports.CryptoSignatureInvalid=CryptoSignatureInvalid,CryptoSignatureInvalid.REASON=common_1.LedgerErrorReason.CryptoSignatureInvalid},8103:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CryptoSignatureMissing=void 0;const common_1=__webpack_require__(3930);class CryptoSignatureMissing extends common_1.LedgerError{constructor(reason,detail){super(CryptoSignatureMissing.REASON,reason,detail)}}exports.CryptoSignatureMissing=CryptoSignatureMissing,CryptoSignatureMissing.REASON=common_1.LedgerErrorReason.CryptoSignatureMissing},6226:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(8578),exports),__exportStar(__webpack_require__(2966),exports),__exportStar(__webpack_require__(3043),exports),__exportStar(__webpack_require__(8103),exports)},445:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(2545),exports),__exportStar(__webpack_require__(2155),exports),__exportStar(__webpack_require__(9041),exports),__exportStar(__webpack_require__(4608),exports),__exportStar(__webpack_require__(205),exports)},9041:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RecordDuplicated=void 0;const common_1=__webpack_require__(3930);class RecordDuplicated extends common_1.LedgerError{constructor(reason,detail){super(RecordDuplicated.REASON,reason,detail)}}exports.RecordDuplicated=RecordDuplicated,RecordDuplicated.REASON=common_1.LedgerErrorReason.RecordDuplicated},205:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RecordInvalid=void 0;const common_1=__webpack_require__(3930);class RecordInvalid extends common_1.LedgerError{constructor(reason,detail){super(RecordInvalid.REASON,reason,detail)}}exports.RecordInvalid=RecordInvalid,RecordInvalid.REASON=common_1.LedgerErrorReason.RecordInvalid},2545:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RecordNotFound=void 0;const common_1=__webpack_require__(3930);class RecordNotFound extends common_1.LedgerError{constructor(reason,detail){super(RecordNotFound.REASON,reason,detail)}}exports.RecordNotFound=RecordNotFound,RecordNotFound.REASON=common_1.LedgerErrorReason.RecordNotFound},2155:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RecordRelationNotFound=void 0;const common_1=__webpack_require__(3930);class RecordRelationNotFound extends common_1.LedgerError{constructor(reason,detail){super(RecordRelationNotFound.REASON,reason,detail)}}exports.RecordRelationNotFound=RecordRelationNotFound,RecordRelationNotFound.REASON=common_1.LedgerErrorReason.RecordRelationNotFound},4608:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RecordSchemaInvalid=void 0;const common_1=__webpack_require__(3930);class RecordSchemaInvalid extends common_1.LedgerError{constructor(reason,detail){super(RecordSchemaInvalid.REASON,reason,detail)}}exports.RecordSchemaInvalid=RecordSchemaInvalid,RecordSchemaInvalid.REASON=common_1.LedgerErrorReason.RecordSchemaInvalid},8861:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(3194),exports),__exportStar(__webpack_require__(6917),exports)},3194:(__unused_webpack_module,exports)=>{function fromLedgerAmount(ledgerAmount,factor){if(ledgerAmount%1!=0)throw new Error("Input amount is not an integer");return ledgerAmount/factor}Object.defineProperty(exports,"__esModule",{value:!0}),exports.pluralize=exports.formatList=exports.toLedgerAmount=exports.fromLedgerAmount=exports.formatLedgerAmount=void 0,exports.formatLedgerAmount=function(ledgerAmount,factor){const nominalAmount=fromLedgerAmount(ledgerAmount,factor),numberOfDigits=Math.log10(factor);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:numberOfDigits,minimumFractionDigits:numberOfDigits}).format(nominalAmount)},exports.fromLedgerAmount=fromLedgerAmount,exports.toLedgerAmount=function(nominalAmount,factor){const ledgerAmount=nominalAmount*factor;if(ledgerAmount%1!=0)throw new Error("Input nominal amount with given factor should produce integer ledger amount");return ledgerAmount};const listFormatter=new Intl.ListFormat("en-US",{style:"long",type:"conjunction"});exports.formatList=function(items){return listFormatter.format(items)},exports.pluralize=function(count,noun,suffix="s"){return 1===count?noun:`${noun}${suffix}`}},6917:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.assertContains=exports.assertValidUrl=exports.assertOptionsSelected=exports.assertValidWithFactor=exports.assertPowerOf10=exports.assertLessThanOrEqual=exports.assertGreaterThanOrEqual=exports.assertGreaterThan=exports.assertNumber=exports.assertValidIdentifier=exports.ADDRESS_REGEX=exports.HANDLE_REGEX=exports.assertNotEmptyString=void 0,exports.assertNotEmptyString=function(value){if("string"!=typeof value||""===value)throw new Error("Value cannot be empty.")},exports.HANDLE_REGEX=/^[a-z][a-z0-9_\-.]*$/,exports.ADDRESS_REGEX=/^(((?<schema>[a-zA-Z0-9_\-+.]+):)?(?<handle>[a-zA-Z0-9_\-+.]+))(@(?<parent>[a-zA-Z0-9_\-+.]+))?$/;const CAMEL_CASE_REGEX=/^[a-z][a-zA-Z0-9_\-.]*$/,ID_START_REGEX=/^[a-z]/;exports.assertValidIdentifier=function(value,format="handle"){if("address"!==format){if(!ID_START_REGEX.test(value))throw new Error("Value must start with a lowercase letter.");if("handle"!==format){if("camelCase"!==format);else if(!CAMEL_CASE_REGEX.test(value))throw new Error("Only values with letters, digits, _, -, and . are allowed.")}else if(!exports.HANDLE_REGEX.test(value))throw new Error("Only values with lowercase letters, digits, _, -, and . are allowed.")}else if(!exports.ADDRESS_REGEX.test(value))throw new Error("Value must follow the address format.")},exports.assertNumber=function(value){if(Number.isNaN(value))throw new Error("Please enter a valid number.")},exports.assertGreaterThan=function(value,minValue){if(value<=minValue)throw new Error(`Value must be greater than ${minValue}`)},exports.assertGreaterThanOrEqual=function(value,minValue){if(value<minValue)throw new Error(`Value must be greater than or equal ${minValue}`)},exports.assertLessThanOrEqual=function(value,maxValue){if(value>maxValue)throw new Error(`Value must be less than or equal ${maxValue}`)},exports.assertPowerOf10=function(value){if(Math.log10(value)%1!=0)throw new Error("Value must be a power of 10")},exports.assertValidWithFactor=function(value,factor){if(value*factor%1!=0)throw new Error("Smallest unit of amount can be "+1/factor)},exports.assertOptionsSelected=function(selection,requiredOptions=1){if(!selection||selection.length<requiredOptions)throw new Error(`Please select at least ${requiredOptions} option${requiredOptions>1?"s":""}`)},exports.assertValidUrl=function(url){try{new URL(url)}catch(e){throw new Error(`Value ${url} is not a valid URL.`)}},exports.assertContains=function(value,array){if(!array.includes(value))throw new Error(`Value must be one of ${array.join(", ")}`)}},1497:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseClient=void 0;const crypto_1=__webpack_require__(8286),lodash_1=__importDefault(__webpack_require__(6517)),ledger_sdk_error_1=__webpack_require__(5583);exports.BaseClient=class BaseClient{constructor(options){this.apiClient=options.apiClient,this.secure=options.secure??{},this.activeLedger=options.ledger}buildRequestHash(requestHashParams){let headers,protectedHeadersSuffix="";Array.isArray(requestHashParams.protectedHeaders)&&(headers=requestHashParams.protectedHeaders.reduce(((_headers,header)=>(protectedHeadersSuffix+=protectedHeadersSuffix?",":":",protectedHeadersSuffix+=header.name.toLowerCase(),Object.assign(_headers,{[header.name]:header.value}))),{}));return`${(0,crypto_1.createHash)({method:requestHashParams.method,url:requestHashParams.url,body:lodash_1.default.isEmpty(requestHashParams.body)?null:requestHashParams.body,headers:lodash_1.default.isEmpty(headers)?null:headers})}${protectedHeadersSuffix}`}async buildJwt(requestHashParams,authParams={}){if(lodash_1.default.isEmpty(!authParams)&&lodash_1.default.isEmpty(this.secure))return null;const params={...this.secure,...this.authParams,...authParams},iat=Math.floor((new Date).getTime()/1e3),jwtPayload={iat,exp:iat+params.exp,iss:params.iss,aud:params.aud,sub:params.sub||params.keyPair.public,jti:params.jti||void 0,hsh:this.buildRequestHash(requestHashParams)};return`Bearer ${await(0,crypto_1.signJWT)(jwtPayload,params.keyPair.secret)}`}buildHeaders(token){return{...token?{Authorization:token}:{},...this.activeLedger?{"X-Ledger":this.activeLedger}:{}}}async createRecord(path,ResponseClass,record,authParams){try{const token=await this.buildJwt({method:"POST",url:this.createRelativeUrl(path),body:record,protectedHeaders:[]},authParams),headers=this.buildHeaders(token);return new ResponseClass(await this.apiClient.post(path,record,{headers}))}catch(error){throw new ledger_sdk_error_1.LedgerSdkError(error)}}async updateRecord(path,ResponseClass,record,authParams){try{const token=await this.buildJwt({method:"PUT",url:this.createRelativeUrl(path),body:record,protectedHeaders:[]},authParams),headers=this.buildHeaders(token);return new ResponseClass(await this.apiClient.put(path,record,{headers}))}catch(error){throw new ledger_sdk_error_1.LedgerSdkError(error)}}async signRecord(path,ResponseClass,signature,authParams){try{const token=await this.buildJwt({method:"POST",url:this.createRelativeUrl(path),body:signature,protectedHeaders:[]},authParams),headers=this.buildHeaders(token);return new ResponseClass(await this.apiClient.post(path,signature,{headers}))}catch(error){throw new ledger_sdk_error_1.LedgerSdkError(error)}}async getRecord(path,ResponseClass,authParams){try{const token=await this.buildJwt({method:"GET",url:this.createRelativeUrl(path),body:{},protectedHeaders:[]},authParams),headers=this.buildHeaders(token);return new ResponseClass(await this.apiClient.get(path,{headers}))}catch(error){throw new ledger_sdk_error_1.LedgerSdkError(error)}}async getRecordsList(path,ResponseClass,params){try{const axiosConfig={params,paramsSerializer:{dots:!0}},resolvedUrl=this.createRelativeUrl(path,axiosConfig),token=await this.buildJwt({method:"GET",url:resolvedUrl,body:{},protectedHeaders:[]},params?.authParams);axiosConfig.headers=this.buildHeaders(token);return new ResponseClass(await this.apiClient.get(path,axiosConfig))}catch(error){throw new ledger_sdk_error_1.LedgerSdkError(error)}}createRelativeUrl(url,config){const axiosUri=this.apiClient.getUri({url,...config}),resolvedUrl=new URL(axiosUri);return resolvedUrl.pathname+resolvedUrl.search}setAuthParams(authParams){this.authParams=authParams}setActiveLedger(handle){this.activeLedger=handle}}},1727:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeClient=exports.BridgesResponse=exports.BridgeResponse=void 0;const create_record_builder_1=__webpack_require__(1039),update_record_builder_1=__webpack_require__(477),list_response_1=__webpack_require__(329),record_response_1=__webpack_require__(9735),base_client_1=__webpack_require__(1497);class BridgeResponse extends record_response_1.BaseRecordResponse{constructor(response){super(response),this.bridge=response?.data?.data}}exports.BridgeResponse=BridgeResponse;class BridgesResponse extends list_response_1.BaseListResponse{constructor(response){super(response),this.bridges=response?.data?.data?.map((record=>record.data))}}exports.BridgesResponse=BridgesResponse;class BridgeClient extends base_client_1.BaseClient{init(record){const builder=new create_record_builder_1.CreateRecordBuilder((async(record,authParams)=>this.createRecord("/bridges",BridgeResponse,record,authParams)));return builder.init(record)}from(record){const builder=new update_record_builder_1.UpdateRecordBuilder((async(record,authParams)=>this.updateRecord(`/bridges/${encodeURIComponent(record.data.handle)}`,BridgeResponse,record,authParams)));return builder.init(record)}async read(handle,authParams){return this.getRecord(`/bridges/${encodeURIComponent(handle)}`,BridgeResponse,authParams)}async list(params){return this.getRecordsList("/bridges",BridgesResponse,params)}}exports.BridgeClient=BridgeClient},7341:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.EffectClient=exports.EffectsResponse=exports.EffectResponse=void 0;const create_record_builder_1=__webpack_require__(1039),update_record_builder_1=__webpack_require__(477),list_response_1=__webpack_require__(329),record_response_1=__webpack_require__(9735),base_client_1=__webpack_require__(1497);class EffectResponse extends record_response_1.BaseRecordResponse{constructor(response){super(response),this.effect=response?.data?.data}}exports.EffectResponse=EffectResponse;class EffectsResponse extends list_response_1.BaseListResponse{constructor(response){super(response),this.effects=response?.data?.data?.map((record=>record.data))}}exports.EffectsResponse=EffectsResponse;class EffectClient extends base_client_1.BaseClient{init(record){const builder=new create_record_builder_1.CreateRecordBuilder((async(record,authParams)=>this.createRecord("/effects",EffectResponse,record,authParams)));return builder.init(record)}from(record){const builder=new update_record_builder_1.UpdateRecordBuilder((async(record,authParams)=>this.updateRecord(`/effects/${encodeURIComponent(record.data.handle)}`,EffectResponse,record,authParams)));return builder.init(record)}async read(handle,authParams){return this.getRecord(`/effects/${encodeURIComponent(handle)}`,EffectResponse,authParams)}async list(params){return this.getRecordsList("/effects",EffectsResponse,params)}}exports.EffectClient=EffectClient},7336:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.IntentClient=exports.IntentsResponse=exports.IntentResponse=void 0;const sign_intent_builder_1=__webpack_require__(4918),intent_record_builder_1=__webpack_require__(316),list_response_1=__webpack_require__(329),record_response_1=__webpack_require__(9735),base_client_1=__webpack_require__(1497);class IntentResponse extends record_response_1.BaseRecordResponse{constructor(response){super(response),this.intent=response?.data?.data}}exports.IntentResponse=IntentResponse;class IntentsResponse extends list_response_1.BaseListResponse{constructor(response){super(response),this.intents=response?.data?.data?.map((record=>record.data))}}exports.IntentsResponse=IntentsResponse;class IntentClient extends base_client_1.BaseClient{init(record){const builder=new intent_record_builder_1.IntentRecordBuilder((async(record,authParams)=>this.createRecord("/intents",IntentResponse,record,authParams)));return builder.init(record)}from(record){return new sign_intent_builder_1.SignIntentBuilder((async(signature,authParams)=>this.signRecord(`/intents/${encodeURIComponent(record.data.handle)}/sign`,IntentResponse,signature,authParams)),record)}async read(handle,authParams){return this.getRecord(`/intents/${encodeURIComponent(handle)}`,IntentResponse,authParams)}async list(params){return this.getRecordsList("/intents",IntentsResponse,params)}}exports.IntentClient=IntentClient},5659:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.LedgerClient=exports.LedgersResponse=exports.LedgerResponse=void 0;const create_record_builder_1=__webpack_require__(1039),update_record_builder_1=__webpack_require__(477),list_response_1=__webpack_require__(329),record_response_1=__webpack_require__(9735),base_client_1=__webpack_require__(1497);class LedgerResponse extends record_response_1.BaseRecordResponse{constructor(response){super(response),this.ledger=response?.data?.data}}exports.LedgerResponse=LedgerResponse;class LedgersResponse extends list_response_1.BaseListResponse{constructor(response){super(response),this.ledgers=response?.data?.data?.map((record=>record.data))}}exports.LedgersResponse=LedgersResponse;class LedgerClient extends base_client_1.BaseClient{init(record){const builder=new create_record_builder_1.CreateRecordBuilder((async(record,authParams)=>this.createRecord("/ledgers",LedgerResponse,record,authParams)));return builder.init(record)}from(record){const builder=new update_record_builder_1.UpdateRecordBuilder((async(record,authParams)=>this.updateRecord(`/ledgers/${encodeURIComponent(record.data.handle)}`,LedgerResponse,record,authParams)));return builder.init(record)}async read(handle,authParams){return this.getRecord(`/ledgers/${encodeURIComponent(handle)}`,LedgerResponse,authParams)}async list(params){return this.getRecordsList("/ledgers",LedgersResponse,params)}}exports.LedgerClient=LedgerClient},9390:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.SignerClient=exports.SignersResponse=exports.SignerResponse=void 0;const signer_record_builder_1=__webpack_require__(6870),update_record_builder_1=__webpack_require__(477),list_response_1=__webpack_require__(329),record_response_1=__webpack_require__(9735),base_client_1=__webpack_require__(1497);class SignerResponse extends record_response_1.BaseRecordResponse{constructor(response){super(response),this.signer=response?.data?.data}}exports.SignerResponse=SignerResponse;class SignersResponse extends list_response_1.BaseListResponse{constructor(response){super(response),this.signers=response?.data?.data?.map((record=>record.data))}}exports.SignersResponse=SignersResponse;class SignerClient extends base_client_1.BaseClient{init(record){const builder=new signer_record_builder_1.SignerRecordBuilder((async(record,authParams)=>this.createRecord("/signers",SignerResponse,record,authParams)));return builder.init(record)}from(record){const builder=new update_record_builder_1.UpdateRecordBuilder((async(record,authParams)=>this.updateRecord(`/signers/${encodeURIComponent(record.data.handle)}`,SignerResponse,record,authParams)));return builder.init(record)}async read(handle,authParams){return this.getRecord(`/signers/${encodeURIComponent(handle)}`,SignerResponse,authParams)}async list(params){return this.getRecordsList("/signers",SignersResponse,params)}}exports.SignerClient=SignerClient},9659:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.StatusClient=exports.StatusResponse=void 0;const record_response_1=__webpack_require__(9735),base_client_1=__webpack_require__(1497);class StatusResponse extends record_response_1.BaseRecordResponse{constructor(response){super(response),this.status=response?.data?.data}}exports.StatusResponse=StatusResponse;class StatusClient extends base_client_1.BaseClient{async read(){return this.getRecord("",StatusResponse)}init(){return null}}exports.StatusClient=StatusClient},7285:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.SymbolClient=exports.SymbolsResponse=exports.SymbolResponse=void 0;const create_record_builder_1=__webpack_require__(1039),update_record_builder_1=__webpack_require__(477),list_response_1=__webpack_require__(329),record_response_1=__webpack_require__(9735),base_client_1=__webpack_require__(1497);class SymbolResponse extends record_response_1.BaseRecordResponse{constructor(response){super(response),this.symbol=response?.data?.data}}exports.SymbolResponse=SymbolResponse;class SymbolsResponse extends list_response_1.BaseListResponse{constructor(response){super(response),this.symbols=response?.data?.data?.map((record=>record.data))}}exports.SymbolsResponse=SymbolsResponse;class SymbolClient extends base_client_1.BaseClient{init(record){const builder=new create_record_builder_1.CreateRecordBuilder((async(record,authParams)=>this.createRecord("/symbols",SymbolResponse,record,authParams)));return builder.init(record)}from(record){const builder=new update_record_builder_1.UpdateRecordBuilder((async(record,authParams)=>this.updateRecord(`/symbols/${encodeURIComponent(record.data.handle)}`,SymbolResponse,record,authParams)));return builder.init(record)}async read(handle,authParams){return this.getRecord(`/symbols/${encodeURIComponent(handle)}`,SymbolResponse,authParams)}async list(params){return this.getRecordsList("/symbols",SymbolsResponse,params)}}exports.SymbolClient=SymbolClient},7361:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalletClient=exports.BalancesResponse=exports.WalletsResponse=exports.WalletResponse=void 0;const create_record_builder_1=__webpack_require__(1039),update_record_builder_1=__webpack_require__(477),list_response_1=__webpack_require__(329),record_response_1=__webpack_require__(9735),base_client_1=__webpack_require__(1497);class WalletResponse extends record_response_1.BaseRecordResponse{constructor(response){super(response),this.wallet=response?.data?.data}}exports.WalletResponse=WalletResponse;class WalletsResponse extends list_response_1.BaseListResponse{constructor(response){super(response),this.wallets=response?.data?.data?.map((record=>record.data))}}exports.WalletsResponse=WalletsResponse;class BalancesResponse extends list_response_1.BaseListResponse{constructor(response){super(response),this.balances=response?.data?.data?.map((record=>record.data))}}exports.BalancesResponse=BalancesResponse;class WalletClient extends base_client_1.BaseClient{init(record){const builder=new create_record_builder_1.CreateRecordBuilder((async(record,authParams)=>this.createRecord("/wallets",WalletResponse,record,authParams)));return builder.init(record)}from(record){const builder=new update_record_builder_1.UpdateRecordBuilder((async(record,authParams)=>this.updateRecord(`/wallets/${encodeURIComponent(record.data.handle)}`,WalletResponse,record,authParams)));return builder.init(record)}async read(handle,authParams){return this.getRecord(`/wallets/${encodeURIComponent(handle)}`,WalletResponse,authParams)}async list(params){return this.getRecordsList("/wallets",WalletsResponse,params)}async getBalances(handle,params){return this.getRecordsList(`/wallets/${encodeURIComponent(handle)}/balances`,BalancesResponse,params)}}exports.WalletClient=WalletClient},7175:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.LedgerSdk=void 0;const axios_1=__importStar(__webpack_require__(2167)),nanoid_1=__webpack_require__(754),effect_client_1=__webpack_require__(7341),ledger_client_1=__webpack_require__(5659),intent_client_1=__webpack_require__(7336),signer_client_1=__webpack_require__(9390),status_client_1=__webpack_require__(9659),symbol_client_1=__webpack_require__(7285),wallet_client_1=__webpack_require__(7361),bridge_client_1=__webpack_require__(1727),proof_verification_client_1=__webpack_require__(2889),ledger_sdk_error_1=__webpack_require__(5583);exports.LedgerSdk=class LedgerSdk{constructor(options){if(options.server.endsWith("/")){const error=new Error(`Base URL shouldn't have a trailing slash: ${options.server}`);throw new ledger_sdk_error_1.LedgerSdkError(error)}if(options.verifyResponseProofs&&!options.signer)throw new Error("Ledger signer is required to verify response proofs automatically");const apiClient=axios_1.default.create({baseURL:options.server,timeout:options.timeout||15e3});if(options.verifyResponseProofs){const verificationClient=new proof_verification_client_1.ProofVerificationClient(options.signer);verificationClient.ledger(),apiClient.interceptors.response.use((async response=>(""===response.config.url||await verificationClient.verify(response.data),response)),(async error=>{if(error instanceof axios_1.AxiosError){if(""===error.config.url)return Promise.reject(error);await verificationClient.verify(error.response?.data)}return Promise.reject(error)}))}this.statusClient=new status_client_1.StatusClient({apiClient,ledger:options.ledger});const clientOptions={apiClient,secure:options.secure,ledger:options.ledger};this.ledger=new ledger_client_1.LedgerClient(clientOptions),this.symbol=new symbol_client_1.SymbolClient(clientOptions),this.wallet=new wallet_client_1.WalletClient(clientOptions),this.intent=new intent_client_1.IntentClient(clientOptions),this.signer=new signer_client_1.SignerClient(clientOptions),this.effect=new effect_client_1.EffectClient(clientOptions),this.bridge=new bridge_client_1.BridgeClient(clientOptions),this.handle={unique:(size=17)=>(0,nanoid_1.nanoid)(size)},this.options=options}setAuthParams(authParams){this.ledger.setAuthParams(authParams),this.symbol.setAuthParams(authParams),this.wallet.setAuthParams(authParams),this.intent.setAuthParams(authParams),this.signer.setAuthParams(authParams),this.effect.setAuthParams(authParams),this.bridge.setAuthParams(authParams)}setActiveLedger(handle){this.symbol.setActiveLedger(handle),this.wallet.setActiveLedger(handle),this.intent.setActiveLedger(handle),this.signer.setActiveLedger(handle),this.effect.setActiveLedger(handle),this.bridge.setActiveLedger(handle)}async status(){return this.statusClient.read()}setSigner(signer){return this.options.signer=signer,this}get proofs(){return new proof_verification_client_1.ProofVerificationClient(this.options.signer)}}},2266:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseRecordBuilder=void 0;const crypto_1=__webpack_require__(8286),ledger_sdk_error_1=__webpack_require__(5583);exports.BaseRecordBuilder=class BaseRecordBuilder{enqueueAsyncOperation(operation){this.pendingAsyncOperations?this.pendingAsyncOperations=this.pendingAsyncOperations.then((()=>operation())):this.pendingAsyncOperations=operation()}async finishAsyncOperations(){this.pendingAsyncOperations&&await this.pendingAsyncOperations}init(record){return this.enqueueAsyncOperation((async()=>{this.record={hash:record?.hash||"",data:record?.data||{},meta:record?.meta||{proofs:[]}},this.record.meta.proofs||(this.record.meta.proofs=[])})),this}data(data){return this.enqueueAsyncOperation((async()=>{Object.assign(this.record.data,data)})),this}meta(meta){return this.enqueueAsyncOperation((async()=>{Object.assign(this.record.meta,meta)})),this}hash(hash){return this.enqueueAsyncOperation((async()=>{this.record.hash=hash||(0,crypto_1.createHash)(this.record.data)})),this}auth(params){return this.enqueueAsyncOperation((async()=>{Object.assign(this.authParams,params)})),this}sign(params){return this.enqueueAsyncOperation((async()=>{const hash=this.record.hash;if(!hash)throw new Error("Invalid record hash, set a hash by calling '.hash()' before attempting to sign a record.");for(const p of params){const custom=Object.assign(p.custom||{},{moment:(new Date).toISOString()}),signature=await(0,crypto_1.signHash)(hash,p.keyPair,custom);this.record.meta.proofs.push(signature)}})),this}async read(){try{return await this.finishAsyncOperations(),this.record}catch(error){throw new ledger_sdk_error_1.LedgerSdkError(error)}}}},1039:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.CreateRecordBuilder=void 0;const ledger_sdk_error_1=__webpack_require__(5583),base_record_builder_1=__webpack_require__(2266);class CreateRecordBuilder extends base_record_builder_1.BaseRecordBuilder{constructor(createRecord){super(),this.createRecord=createRecord}async send(){try{return await this.finishAsyncOperations(),this.createRecord(this.record,this.authParams)}catch(error){throw new ledger_sdk_error_1.LedgerSdkError(error)}}}exports.CreateRecordBuilder=CreateRecordBuilder},316:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.IntentRecordBuilder=void 0;const lodash_1=__webpack_require__(6517),create_record_builder_1=__webpack_require__(1039);class IntentRecordBuilder extends create_record_builder_1.CreateRecordBuilder{sign(params){return params=params.map((param=>{const clonedParam=(0,lodash_1.cloneDeep)(param);return(0,lodash_1.set)(clonedParam,"custom.status","created")})),super.sign(params)}}exports.IntentRecordBuilder=IntentRecordBuilder},2889:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofVerificationClient=void 0;const crypto_1=__webpack_require__(8286),errors_1=__webpack_require__(2901),lodash_1=__importDefault(__webpack_require__(6517)),ledger_sdk_error_1=__webpack_require__(5583),errors_2=__webpack_require__(2901);exports.ProofVerificationClient=class ProofVerificationClient{constructor(signer){this.assertions=[],this.ledgerSigner=signer,this.length(1)}assertLength(record,min,max){if(record.meta.proofs.length<min)throw new errors_2.CryptoSignatureMissing(`Expected at least ${min} proofs, got ${record.meta.proofs.length}.`);if(max&&record.meta.proofs.length>max)throw new errors_2.CryptoSignatureMissing(`Expected at most ${max} proofs, got ${record.meta.proofs.length}.`)}assertExpect(record,match){if(!lodash_1.default.some(record.meta.proofs,match))throw new errors_2.CryptoSignatureMissing("Expected signature not found.")}assert(record){for(const assertion of this.assertions)if("length"===assertion.type&&this.assertLength(record,assertion.min,assertion.max),"expect"===assertion.type)for(const matcher of assertion.match)this.assertExpect(record,matcher)}async verify(record){if(!record?.meta?.proofs)throw new errors_2.CryptoSignatureMissing("This record has no proofs.");if(!record?.hash)throw new errors_2.CryptoHashInvalid("This record has no hash.");try{for(const signature of record.meta.proofs){if(!await(0,crypto_1.verifySignature)(record.hash,signature))throw new errors_2.CryptoSignatureInvalid("This record has one or more invalid proofs.")}this.assert(record)}catch(error){throw new ledger_sdk_error_1.LedgerSdkError(error)}}error(record){if(!record.meta||!Array.isArray(record.meta.proofs))return;const errorProofs=lodash_1.default.orderBy((0,lodash_1.default)(record).get("meta.proofs").filter((proof=>proof.custom?.reason)),"custom.moment","desc");let error,latestErrorProof=errorProofs.pop();for(;latestErrorProof;)errorProof=latestErrorProof,causedBy=error,error=new errors_1.LedgerError(errorProof.custom.reason,errorProof.custom.detail,{causedBy}),latestErrorProof=errorProofs.pop();var errorProof,causedBy;return error?new ledger_sdk_error_1.LedgerSdkError(error):void 0}expect(matcher){return matcher=lodash_1.default.isArray(matcher)?matcher:[matcher],this.assertions.push({type:"expect",match:matcher}),this}ledger(){const matcher={public:this.ledgerSigner.public,method:"ed25519-v2"};return this.expect(matcher),this}length(min,max){return this.assertions.push({type:"length",min,max}),this}}},4918:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.SignIntentBuilder=void 0;const ledger_sdk_error_1=__webpack_require__(5583),base_record_builder_1=__webpack_require__(2266);exports.SignIntentBuilder=class SignIntentBuilder{constructor(sendSignature,intent){this.recordBuilder=new base_record_builder_1.BaseRecordBuilder,this.recordBuilder.init(intent),this.sendSignature=sendSignature,this.newSignaturesStartIndex=intent.meta?.proofs?.length||0}auth(params){return Object.assign(this.authParams,params),this}async read(){return this.recordBuilder.read()}hash(hash){return this.recordBuilder.hash(hash),this}sign(params){return this.recordBuilder.sign(params),this}async send(){try{const signatures=(await this.recordBuilder.read())?.meta?.proofs?.slice(this.newSignaturesStartIndex)||[];if(0===signatures.length)throw new Error("Unable to send signatures, no signatures found!");let result=null;for(let i=0;i<signatures.length;i++)result=await this.sendSignature(signatures[i],this.authParams);return result}catch(error){throw new ledger_sdk_error_1.LedgerSdkError(error)}}}},6870:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.SignerRecordBuilder=void 0;const crypto_1=__webpack_require__(8286),types_1=__webpack_require__(8071),create_record_builder_1=__webpack_require__(1039);class SignerRecordBuilder extends create_record_builder_1.CreateRecordBuilder{async decryptSecret(secret){if(!this.password)throw new Error("Unable to decrypt secret without password, use '.code(password)' before calling '.keys()'");return(0,crypto_1.decryptSecretKey)(secret,this.password)}async extractKeyPair(){if(!this.record.data.format||!this.record.data.public||!this.record.data.secret)throw new Error("Incomplete key pair in signer record, use '.data({ format, public, secret })' or '.init()' before calling '.lock()' or '.keys()'");const secret=(0,crypto_1.isSecretKeyEncrypted)(this.record.data.secret)?await this.decryptSecret(this.record.data.secret):this.record.data.secret;return{format:this.record.data.format,public:this.record.data.public,secret}}code(password){return this.enqueueAsyncOperation((async()=>{this.password=password,this.record.data.secret&&!(0,crypto_1.isSecretKeyEncrypted)(this.record.data.secret)&&(this.record.data.secret=await(0,crypto_1.encryptSecretKey)(this.record.data.secret,password))})),this}lock(){return this.enqueueAsyncOperation((async()=>{const hash=this.record.hash;if(!hash)throw new Error("Invalid record hash, set a hash by calling '.hash()' before attempting to lock a record.");const keyPair=await this.extractKeyPair();this.record.meta.proofs.push(await(0,crypto_1.signHash)(hash,keyPair))})),this}async read(readOptions){const record=Object.assign({},await super.read()),{data}=record;if(readOptions?.plain&&data.secret&&(0,crypto_1.isSecretKeyEncrypted)(data.secret)){if(!this.password)throw new Error("Unable to decrypt secret without password, use '.code(password)' before calling '.keys()'");data.secret=await(0,crypto_1.decryptSecretKey)(data.secret,this.password)}return record}keys(keyPair){return this.enqueueAsyncOperation((async()=>{(0,crypto_1.assertKeyFormat)(keyPair.format),keyPair.public&&keyPair.secret||(keyPair=await(0,crypto_1.createKeyPair)()),this.record.data.public=keyPair.public,this.record.data.format=keyPair.format,this.record.data.secret=keyPair.secret,this.record.data.access=this.record.data.access||[{action:types_1.AccessAction.Any,signer:{public:keyPair.public}}]})),this}}exports.SignerRecordBuilder=SignerRecordBuilder},477:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.UpdateRecordBuilder=void 0;const lodash_1=__webpack_require__(6517),ledger_sdk_error_1=__webpack_require__(5583),base_record_builder_1=__webpack_require__(2266);class UpdateRecordBuilder extends base_record_builder_1.BaseRecordBuilder{constructor(updateRecord){super(),this.updateRecord=updateRecord}init(record){const recordClone=(0,lodash_1.cloneDeep)(record);return(0,lodash_1.set)(recordClone,"meta.proofs",[]),(0,lodash_1.set)(recordClone,"data.parent",record.hash),(0,lodash_1.set)(recordClone,"hash",void 0),super.init(recordClone),this}data(data,replace=!1){return this.enqueueAsyncOperation((async()=>{const parent=this.record.data?.parent;if(replace)(0,lodash_1.set)(this.record,"data",data);else{let clonedData=(0,lodash_1.cloneDeep)(this.record.data);clonedData=(0,lodash_1.merge)(clonedData,data),clonedData=this.deepRemoveNull(clonedData),(0,lodash_1.set)(this.record,"data",clonedData)}parent&&(0,lodash_1.set)(this.record,"data.parent",parent)})),this}deepRemoveNull(object){if(!(0,lodash_1.isObject)(object))return object;const wasArray=(0,lodash_1.isArray)(object),clear=Object.entries(object).filter((([,value])=>!1===(0,lodash_1.isNil)(value))).reduce(((r,[key,value])=>({...r,[key]:this.deepRemoveNull(value)})),{});return wasArray?Object.values(clear):clear}async send(){try{return await this.finishAsyncOperations(),this.updateRecord(this.record,this.authParams)}catch(error){throw new ledger_sdk_error_1.LedgerSdkError(error)}}}exports.UpdateRecordBuilder=UpdateRecordBuilder},3769:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.LedgerResponse=void 0;const ledger_sdk_error_1=__webpack_require__(5583);exports.LedgerResponse=class LedgerResponse{constructor(response){try{if(void 0===response?.data?.hash||void 0===response?.data?.meta)throw new Error("Invalid server response. Missing properties 'hash' or 'meta'")}catch(error){throw new ledger_sdk_error_1.LedgerSdkError(error)}}}},5583:function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.LedgerSdkError=void 0;const axios_1=__webpack_require__(2167),lodash_1=__importDefault(__webpack_require__(6517)),errors_1=__webpack_require__(2901);class LedgerSdkError extends Error{constructor(causedBy){if(causedBy instanceof LedgerSdkError)return causedBy;if(super(),causedBy instanceof errors_1.LedgerError)return this.reason=causedBy.reason,this.detail=causedBy.detail,void(this.custom=causedBy.custom);if(this.custom={},causedBy instanceof axios_1.AxiosError){this.name="LedgerApiError";const responseBody=causedBy.response?.data;responseBody?.data?.reason?(this.reason=responseBody.data.reason,this.detail=responseBody.data.detail||"No reason provided",this.custom=responseBody.data.custom||{}):(this.reason=errors_1.LedgerErrorReason.ApiUnexpectedError,this.detail=causedBy.message||"Unexpected server error occurred!",this.custom={body:responseBody})}else this.reason=errors_1.LedgerErrorReason.UnexpectedClientError,this.detail=causedBy.message;this.custom.causedBy=causedBy,this.message=this.reason}toJSON(){return lodash_1.default.merge({},this,{custom:{causedBy:null}})}}exports.LedgerSdkError=LedgerSdkError},329:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseListResponse=void 0;const ledger_response_1=__webpack_require__(3769);class BaseListResponse extends ledger_response_1.LedgerResponse{constructor(response){super(response),this.response=response,this.hash=response?.data?.hash,this.meta=response?.data?.meta,this.page=response?.data?.page}}exports.BaseListResponse=BaseListResponse},9735:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseRecordResponse=void 0;const ledger_response_1=__webpack_require__(3769);class BaseRecordResponse extends ledger_response_1.LedgerResponse{constructor(response){super(response),this.response=response,this.hash=response?.data?.hash,this.meta=response?.data?.meta}}exports.BaseRecordResponse=BaseRecordResponse},8071:function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(4231),exports),__exportStar(__webpack_require__(230),exports),__exportStar(__webpack_require__(2565),exports),__exportStar(__webpack_require__(8035),exports),__exportStar(__webpack_require__(9548),exports),__exportStar(__webpack_require__(5585),exports),__exportStar(__webpack_require__(1147),exports),__exportStar(__webpack_require__(7479),exports),__exportStar(__webpack_require__(3891),exports),__exportStar(__webpack_require__(5797),exports),__exportStar(__webpack_require__(3297),exports),__exportStar(__webpack_require__(2080),exports),__exportStar(__webpack_require__(4665),exports),__exportStar(__webpack_require__(1721),exports),__exportStar(__webpack_require__(4301),exports),__exportStar(__webpack_require__(4558),exports),__exportStar(__webpack_require__(7631),exports),__exportStar(__webpack_require__(1994),exports),__exportStar(__webpack_require__(7117),exports),__exportStar(__webpack_require__(8031),exports),__exportStar(__webpack_require__(7760),exports),__exportStar(__webpack_require__(5735),exports),__exportStar(__webpack_require__(5522),exports)},4231:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},230:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},2565:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},8035:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},9548:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RecordName=void 0,function(RecordName){RecordName.Bridge="bridge",RecordName.Effect="effect",RecordName.Intent="intent",RecordName.Ledger="ledger",RecordName.Signer="signer",RecordName.Symbol="symbol",RecordName.Wallet="wallet"}(exports.RecordName||(exports.RecordName={}))},5585:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.AccessAction=exports.AccessRecord=void 0,function(AccessRecord){AccessRecord.Any="any",AccessRecord.Server="server",AccessRecord.Ledger="ledger",AccessRecord.Signer="signer",AccessRecord.Symbol="symbol",AccessRecord.Wallet="wallet",AccessRecord.Intent="intent",AccessRecord.Effect="effect",AccessRecord.Bridge="bridge"}(exports.AccessRecord||(exports.AccessRecord={})),function(AccessAction){AccessAction.Any="any",AccessAction.Access="access",AccessAction.Create="create",AccessAction.Read="read",AccessAction.Sign="sign",AccessAction.Update="update"}(exports.AccessAction||(exports.AccessAction={}))},1147:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},7479:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},3891:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},5797:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},3297:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},2080:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},4665:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeCommandAction=exports.BridgeEntryStatus=exports.BridgeEntrySchema=void 0,function(BridgeEntrySchema){BridgeEntrySchema.Debit="debit",BridgeEntrySchema.Credit="credit"}(exports.BridgeEntrySchema||(exports.BridgeEntrySchema={})),function(BridgeEntryStatus){BridgeEntryStatus.Prepared="prepared",BridgeEntryStatus.Failed="failed",BridgeEntryStatus.Committed="committed",BridgeEntryStatus.Aborted="aborted"}(exports.BridgeEntryStatus||(exports.BridgeEntryStatus={})),function(BridgeCommandAction){BridgeCommandAction.Commit="commit",BridgeCommandAction.Abort="abort"}(exports.BridgeCommandAction||(exports.BridgeCommandAction={}))},1721:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},4301:(__unused_webpack_module,exports)=>{var BridgeSchema;Object.defineProperty(exports,"__esModule",{value:!0}),exports.BridgeSchemas=exports.BridgeSchema=void 0,function(BridgeSchema){BridgeSchema.Rest="rest"}(BridgeSchema=exports.BridgeSchema||(exports.BridgeSchema={})),exports.BridgeSchemas=Object.values(BridgeSchema)},4558:(__unused_webpack_module,exports)=>{var EffectActionSchema;Object.defineProperty(exports,"__esModule",{value:!0}),exports.EffectActionSchemas=exports.EffectActionSchema=void 0,function(EffectActionSchema){EffectActionSchema.webhook="webhook"}(EffectActionSchema=exports.EffectActionSchema||(exports.EffectActionSchema={})),exports.EffectActionSchemas=Object.values(EffectActionSchema)},7631:(__unused_webpack_module,exports)=>{var EventSignal;Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventSignals=exports.EventSignal=void 0,function(EventSignal){EventSignal.BalanceReceived="balance-received",EventSignal.EffectCreated="effect-created",EventSignal.LedgerCreated="ledger-created",EventSignal.IntentCreated="intent-created",EventSignal.SignerCreated="signer-created",EventSignal.SymbolCreated="symbol-created",EventSignal.WalletCreated="wallet-created",EventSignal.BridgeCreated="bridge-created",EventSignal.EffectUpdated="effect-updated",EventSignal.LedgerUpdated="ledger-updated",EventSignal.IntentUpdated="intent-updated",EventSignal.SignerUpdated="signer-updated",EventSignal.SymbolUpdated="symbol-updated",EventSignal.WalletUpdated="wallet-updated",EventSignal.BridgeUpdated="bridge-updated"}(EventSignal=exports.EventSignal||(exports.EventSignal={})),exports.EventSignals=Object.values(EventSignal)},7117:(__unused_webpack_module,exports)=>{var ClaimAction;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClaimActions=exports.ClaimAction=exports.IntentStatus=void 0,function(IntentStatus){IntentStatus.Pending="pending",IntentStatus.Committed="committed",IntentStatus.Completed="completed",IntentStatus.Aborted="aborted",IntentStatus.Rejected="rejected"}(exports.IntentStatus||(exports.IntentStatus={})),function(ClaimAction){ClaimAction.Issue="issue",ClaimAction.Transfer="transfer",ClaimAction.Destroy="destroy"}(ClaimAction=exports.ClaimAction||(exports.ClaimAction={})),exports.ClaimActions=Object.values(ClaimAction)},8031:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},7760:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},5735:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},5522:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalletRouteAction=void 0,function(WalletRouteAction){WalletRouteAction.Forward="forward",WalletRouteAction.Accept="accept"}(exports.WalletRouteAction||(exports.WalletRouteAction={}))},1994:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0})},599:module=>{module.exports=require("@noble/ed25519")},2167:module=>{module.exports=require("axios")},7805:module=>{module.exports=require("detect-node")},1567:module=>{module.exports=require("jose")},6517:module=>{module.exports=require("lodash")},754:module=>{module.exports=require("nanoid")},8730:module=>{module.exports=require("safe-stable-stringify")},6113:module=>{module.exports=require("crypto")},3837:module=>{module.exports=require("util")}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.exports}var __webpack_exports__={};(()=>{var exports=__webpack_exports__;Object.defineProperty(exports,"__esModule",{value:!0}),exports.LedgerSdkError=exports.LedgerSdk=exports.WalletsResponse=exports.WalletResponse=exports.SymbolsResponse=exports.SymbolResponse=exports.StatusResponse=exports.SignersResponse=exports.SignerResponse=exports.IntentsResponse=exports.IntentResponse=exports.LedgersResponse=exports.LedgerResponse=exports.BridgesResponse=exports.BridgeResponse=void 0;var bridge_client_1=__webpack_require__(1727);Object.defineProperty(exports,"BridgeResponse",{enumerable:!0,get:function(){return bridge_client_1.BridgeResponse}}),Object.defineProperty(exports,"BridgesResponse",{enumerable:!0,get:function(){return bridge_client_1.BridgesResponse}});var ledger_client_1=__webpack_require__(5659);Object.defineProperty(exports,"LedgerResponse",{enumerable:!0,get:function(){return ledger_client_1.LedgerResponse}}),Object.defineProperty(exports,"LedgersResponse",{enumerable:!0,get:function(){return ledger_client_1.LedgersResponse}});var intent_client_1=__webpack_require__(7336);Object.defineProperty(exports,"IntentResponse",{enumerable:!0,get:function(){return intent_client_1.IntentResponse}}),Object.defineProperty(exports,"IntentsResponse",{enumerable:!0,get:function(){return intent_client_1.IntentsResponse}});var signer_client_1=__webpack_require__(9390);Object.defineProperty(exports,"SignerResponse",{enumerable:!0,get:function(){return signer_client_1.SignerResponse}}),Object.defineProperty(exports,"SignersResponse",{enumerable:!0,get:function(){return signer_client_1.SignersResponse}});var status_client_1=__webpack_require__(9659);Object.defineProperty(exports,"StatusResponse",{enumerable:!0,get:function(){return status_client_1.StatusResponse}});var symbol_client_1=__webpack_require__(7285);Object.defineProperty(exports,"SymbolResponse",{enumerable:!0,get:function(){return symbol_client_1.SymbolResponse}}),Object.defineProperty(exports,"SymbolsResponse",{enumerable:!0,get:function(){return symbol_client_1.SymbolsResponse}});var wallet_client_1=__webpack_require__(7361);Object.defineProperty(exports,"WalletResponse",{enumerable:!0,get:function(){return wallet_client_1.WalletResponse}}),Object.defineProperty(exports,"WalletsResponse",{enumerable:!0,get:function(){return wallet_client_1.WalletsResponse}});var sdk_1=__webpack_require__(7175);Object.defineProperty(exports,"LedgerSdk",{enumerable:!0,get:function(){return sdk_1.LedgerSdk}});var ledger_sdk_error_1=__webpack_require__(5583);Object.defineProperty(exports,"LedgerSdkError",{enumerable:!0,get:function(){return ledger_sdk_error_1.LedgerSdkError}})})();var __webpack_export_target__=exports;for(var i in __webpack_exports__)__webpack_export_target__[i]=__webpack_exports__[i];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})})();